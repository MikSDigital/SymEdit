{% extends '@SymEdit/Admin/tabbed.html.twig' %}

{% block title %}Blog &raquo; {{ entity.title }} &raquo; Edit{% endblock %}

{% block action %}{{ path('admin_blog_update', {id:entity.id}) }}{% endblock %}

{% block tabs %}
{{ form_tabs(form) }}
{% endblock %}

{% block tab_content %}
{{ form_widget(form) }}
{% endblock %}

{% block form_actions %}
<button class="btn btn-primary btn-block" type="submit">Update Post</button>

{% if route_exists('blog_preview') %}
<a target="_blank" class="btn btn-info btn-block" href="{{ path('blog_preview', { slug: entity.slug }) }}">Preview Post</a>
{% else %}
<a class="btn btn-info btn-block disabled" href="#" title="Cannot preview, not active blog.">Cannot Preview</a>
{% endif %}

<button type="button" data-toggle="form-forward" data-message="Are you sure you want to delete this post?" data-target="#post-delete" class="btn btn-warning btn-block">Delete Post</button>
{% endblock %}


{% block extra %}
<form id="post-delete" class="form-hidden" action="{{ path('admin_blog_delete', { 'id': entity.id }) }}" method="post">
    {{ form_widget(delete_form) }}
</form>
{% endblock %}