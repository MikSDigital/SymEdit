{% extends 'IsometriksSymEditBundle::base.html.twig' %}

{% block title %}Images &raquo; Sliders &raquo; {{ entity.name }} &raquo; Edit{% endblock %}

{% block content %}
<form class="form-horizontal" action="{{ path('admin_image_slider_update', { 'id': entity.id }) }}" method="post" {{ form_enctype(edit_form) }}>
    {{ form_row(edit_form.name) }}
    {{ form_row(edit_form.description) }}
    {{ form_rest(edit_form) }}
    <div class="form-actions">
        <button class="btn btn-primary" type="submit">Update Slider</button>
        <button type="button" data-toggle="form-forward" data-message="Are you sure you want to delete this slider?" data-target="#slider-delete" class="btn btn-warning">Delete Slider</button>
    </div>
</form>

<h3>Slides</h3>
<div>
    {% for slide in edit_form.vars.value.slides %}
    <div class="well">
        <div class="row-fluid">
            <div class="span4">
                <h4>Slide {{ loop.index }}</h4>
                <p>{{ slide.caption }}</p>
                <a href="{{ path('admin_image_slider_slide_edit', {id:slide.id}) }}" class="btn btn-primary">Edit</a>
            </div>
            <div class="span5 pull-right">
                <img src="{{ slide.image.webpath|constrain({w:300, h:120}) }}" />
            </div>
        </div>
    </div>
    {% endfor %}
</div>
<div class="form-actions">
    <a href="{{ path('admin_image_slider_slide_new', {slider_id:entity.id}) }}" class="btn btn-success">Add New Slide</a>
</div>

<form id="slider-delete" class="form-hidden" action="{{ path('admin_image_slider_delete', { 'id': entity.id }) }}" method="post">
    {{ form_widget(delete_form) }}
</form>
{% endblock %}

